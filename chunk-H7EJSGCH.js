import{C as p,Ca as I,D as i,E as e,Ea as A,F as s,H as x,Ha as D,I as b,M as n,N as h,O as v,ea as C,k as f,ka as S,la as y,oa as w,pa as E,qa as m,ra as _,s as a,sa as N,t as c,u as g,va as F,wa as R,x as u,xa as L,y as d}from"./chunk-ZBASSBQY.js";function j(r,l){r&1&&(i(0,"p",6),n(1,"Usuario es requerido"),e())}function V(r,l){r&1&&(i(0,"p",6),n(1,"Contrase\xF1a es requerida"),e())}function P(r,l){if(r&1&&(i(0,"p",12),n(1),e()),r&2){let o=b();a(),h(o.error)}}var G=class r{constructor(l,o,t){this.fb=l;this.authService=o;this.router=t;this.form=this.fb.group({username:["",[m.required,m.minLength(3)]],password:["",[m.required,m.minLength(3)]]})}form;loading=!1;error=null;get username(){return this.form.get("username")}get password(){return this.form.get("password")}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.authService.signIn(this.form.value).subscribe({next:l=>{this.loading=!1,this.router.navigateByUrl("/dashboard").then(o=>{})},error:l=>{this.loading=!1,this.error=l?.error?.message||"No se pudo iniciar sesi\xF3n"}})}static \u0275fac=function(o){return new(o||r)(c(I),c(D),c(S))};static \u0275cmp=g({type:r,selectors:[["app-login"]],decls:23,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","p-4"],[1,"w-full","max-w-md","bg-white","rounded-2xl","shadow-lg","p-6"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","formControlName","username","placeholder","usuario",1,"w-full","px-4","py-2","rounded-xl","border","transition-colors","focus:outline-none","focus:ring-2"],[1,"text-red-600","text-sm","mt-1"],["type","password","formControlName","password","placeholder","********",1,"w-full","px-4","py-2","rounded-xl","border","transition-colors","focus:outline-none","focus:ring-2"],["type","submit",1,"w-full","py-2","rounded-xl","font-medium","transition-all","duration-200","bg-blue-600","hover:bg-blue-700","active:bg-blue-800","text-white","hover:shadow-lg",3,"disabled"],[1,"text-center","mt-6","pt-4","border-t","border-gray-100"],[1,"text-sm","text-gray-600"],["routerLink","/auth/register",1,"text-blue-600","font-semibold","hover:underline"],[1,"text-red-600","text-sm","mt-2"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Iniciar sesi\xF3n"),e(),i(4,"form",3),x("ngSubmit",function(){return t.onSubmit()}),i(5,"div")(6,"label",4),n(7,"Usuario"),e(),s(8,"input",5),u(9,j,2,0,"p",6),e(),i(10,"div")(11,"label",4),n(12,"Contrase\xF1a"),e(),s(13,"input",7),u(14,V,2,0,"p",6),e(),i(15,"button",8),n(16),e(),i(17,"div",9)(18,"p",10),n(19," \xBFNo tienes una cuenta? "),i(20,"a",11),n(21," Reg\xEDstrate aqu\xED "),e()()(),u(22,P,2,1,"p",12),e()()()),o&2&&(a(4),p("formGroup",t.form),a(5),d(t.username!=null&&t.username.touched&&(t.username!=null&&t.username.invalid)?9:-1),a(5),d(t.password!=null&&t.password.touched&&(t.password!=null&&t.password.invalid)?14:-1),a(),p("disabled",t.loading||t.form.invalid),a(),v(" ",t.loading?"Ingresando...":"Ingresar"," "),a(6),d(t.error?22:-1))},dependencies:[C,A,F,E,_,N,R,L,w,y],encapsulation:2})};function H(r,l){if(r&1&&(i(0,"p",14),n(1),e()),r&2){let o=b();a(),h(o.error)}}var T=class r{_fb=f(I);_authService=f(D);_router=f(S);form;loading=!1;error=null;constructor(){this.form=this._fb.group({username:["",[m.required,m.minLength(3)]],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(4)]],nombre:["",[m.required]],apellido:["",[m.required]]})}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error=null,this._authService.signUp(this.form.value).subscribe({next:l=>{this.loading=!1,this._router.navigateByUrl("/auth/login")},error:l=>{this.loading=!1,this.error=l?.error?.message||"Error al crear la cuenta"}})}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=g({type:r,selectors:[["app-register"]],decls:32,vars:4,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","p-4"],[1,"w-full","max-w-md","bg-white","rounded-2xl","shadow-lg","p-6"],[1,"text-2xl","font-bold","text-gray-800","mb-4","text-center"],[1,"space-y-3",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2","gap-3"],[1,"block","text-xs","font-medium","text-gray-700","mb-1"],["type","text","formControlName","nombre",1,"w-full","px-4","py-2","rounded-xl","border","focus:ring-2","outline-none","text-sm"],["type","text","formControlName","apellido",1,"w-full","px-4","py-2","rounded-xl","border","focus:ring-2","outline-none","text-sm"],["type","text","formControlName","username",1,"w-full","px-4","py-2","rounded-xl","border","focus:ring-2","outline-none","text-sm"],["type","email","formControlName","email",1,"w-full","px-4","py-2","rounded-xl","border","focus:ring-2","outline-none","text-sm"],["type","password","formControlName","password",1,"w-full","px-4","py-2","rounded-xl","border","focus:ring-2","outline-none","text-sm"],["type","submit",1,"w-full","py-2","rounded-xl","font-medium","bg-blue-600","hover:bg-blue-700","text-white","transition-all","mt-4",3,"disabled"],[1,"text-center","mt-4","pt-4","border-t"],["routerLink","/auth/login",1,"text-sm","text-blue-600","font-semibold","hover:underline"],[1,"text-red-600","text-xs","mt-2","text-center"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Crear cuenta"),e(),i(4,"form",3),x("ngSubmit",function(){return t.onSubmit()}),i(5,"div",4)(6,"div")(7,"label",5),n(8,"Nombre"),e(),s(9,"input",6),e(),i(10,"div")(11,"label",5),n(12,"Apellido"),e(),s(13,"input",7),e()(),i(14,"div")(15,"label",5),n(16,"Usuario"),e(),s(17,"input",8),e(),i(18,"div")(19,"label",5),n(20,"Email"),e(),s(21,"input",9),e(),i(22,"div")(23,"label",5),n(24,"Contrase\xF1a"),e(),s(25,"input",10),e(),i(26,"button",11),n(27),e(),i(28,"div",12)(29,"a",13),n(30," \xBFYa tienes cuenta? Inicia sesi\xF3n "),e()(),u(31,H,2,1,"p",14),e()()()),o&2&&(a(4),p("formGroup",t.form),a(22),p("disabled",t.loading||t.form.invalid),a(),v(" ",t.loading?"Creando cuenta...":"Registrarme"," "),a(4),d(t.error?31:-1))},dependencies:[C,A,F,E,_,N,R,L,w,y],encapsulation:2})};var O=[{path:"login",component:G},{path:"register",component:T}],se=O;export{O as AUTH_ROUTES,se as default};
