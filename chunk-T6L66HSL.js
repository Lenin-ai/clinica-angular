import{A as c,Aa as N,B as o,C as t,Ca as T,D as f,F as h,G as v,K as l,L as b,M as C,aa as x,ga as S,ma as w,na as y,oa as m,pa as _,q as a,qa as F,r as s,s as g,ta as E,ua as I,v as u,va as L,w as d}from"./chunk-ZDS7SQMW.js";function A(i,n){i&1&&(o(0,"p",6),l(1,"Usuario es requerido"),t())}function R(i,n){i&1&&(o(0,"p",6),l(1,"Contrase\xF1a es requerida"),t())}function G(i,n){if(i&1&&(o(0,"p",9),l(1),t()),i&2){let r=v();a(),b(r.error)}}var p=class i{constructor(n,r,e){this.fb=n;this.authService=r;this.router=e;this.form=this.fb.group({username:["",[m.required,m.minLength(3)]],password:["",[m.required,m.minLength(6)]]})}form;loading=!1;error=null;get username(){return this.form.get("username")}get password(){return this.form.get("password")}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.authService.signIn(this.form.value).subscribe({next:n=>{this.loading=!1,this.router.navigateByUrl("/dashboard").then(r=>{})},error:n=>{this.loading=!1,this.error=n?.error?.message||"No se pudo iniciar sesi\xF3n"}})}static \u0275fac=function(r){return new(r||i)(s(N),s(w),s(S))};static \u0275cmp=g({type:i,selectors:[["app-login"]],decls:18,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","p-4"],[1,"w-full","max-w-md","bg-white","rounded-2xl","shadow-lg","p-6"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","formControlName","username","placeholder","usuario",1,"w-full","px-4","py-2","rounded-xl","border","transition-colors","focus:outline-none","focus:ring-2"],[1,"text-red-600","text-sm","mt-1"],["type","password","formControlName","password","placeholder","********",1,"w-full","px-4","py-2","rounded-xl","border","transition-colors","focus:outline-none","focus:ring-2"],["type","submit",1,"w-full","py-2","rounded-xl","font-medium","transition-all","duration-200","bg-blue-600","hover:bg-blue-700","active:bg-blue-800","text-white","hover:shadow-lg",3,"disabled"],[1,"text-red-600","text-sm","mt-2"]],template:function(r,e){r&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Iniciar sesi\xF3n"),t(),o(4,"form",3),h("ngSubmit",function(){return e.onSubmit()}),o(5,"div")(6,"label",4),l(7,"Usuario"),t(),f(8,"input",5),u(9,A,2,0,"p",6),t(),o(10,"div")(11,"label",4),l(12,"Contrase\xF1a"),t(),f(13,"input",7),u(14,R,2,0,"p",6),t(),o(15,"button",8),l(16),t(),u(17,G,2,1,"p",9),t()()()),r&2&&(a(4),c("formGroup",e.form),a(5),d(e.username!=null&&e.username.touched&&(e.username!=null&&e.username.invalid)?9:-1),a(5),d(e.password!=null&&e.password.touched&&(e.password!=null&&e.password.invalid)?14:-1),a(),c("disabled",e.loading||e.form.invalid),a(),C(" ",e.loading?"Ingresando...":"Ingresar"," "),a(),d(e.error?17:-1))},dependencies:[x,T,E,y,_,F,I,L],encapsulation:2})};var D=[{path:"login",component:p}],K=D;export{D as AUTH_ROUTES,K as default};
